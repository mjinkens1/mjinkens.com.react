language: node_js
node_js:
    - stable
cache:
    directories:
        - node_modules

before_script:
    - npm install -g firebase-tools
    - cd functions && npm install

script:
    - npm run build
    - firebase deploy --only hosting --token $FIREBASE_TOKEN
# deploy:
#     provider: firebase
#     skip_cleanup: true
#     token:
#         secure: jcNpAXdXDxAO73QptPot5al0E6Bcj3YLXl9CdgqUQiJtWrSHHxIaom1djIgfUnkiGrOr73p1g0NRuGca3c008qw+sL+JIoT4jhbMCzIYLkMIf93299BVo69QRJktazs9oYXuCPJFnvtZbuM6C+Kps6DkMScD/KUm7Ql0G57xBjMrQpzzBKLUQD8xLv89SGhzRp8aig6tt/kpVEEjT2VlZEYQN3bB1KhTwNZzvTglhz5CQDzn/kWCO0XGczEpQ/RMoxbj2yO36lkvwNvAjgP5TsSrnSLr+5HMCA53KhcxJ/jEqPC5dXyDH9G5lWAqq1JIC+MKG0kT9MyhM4iAplLgZ4HM9XT9GcKcRPP4J3Hh7moefz0jJHLzlwQsGyvSnBhp2JT/TagP7MASXa/NaoMv7dmL19KxtnvmayleSD90FMCpoLkHvVkrfW3G9x10fsRvoDhKoWGTRJjzuHGDwfWIL2bg/meKTYlt8WWJLhFVjQg9BpG5xkk/hrKQEH7SiQKufX3gM2pjnAMk6+1EMJiFNzcAyZNcgI7n91s22S0OG2q/IpkR1CbZ1sn+aq1m19Z0qLCUJncRzVSQb4LdnOMw+BJC8kjk6H3qLV+fkrU9sEgX5Vuom6kZr20cHEnLXXgLtj3seAdMxArHlSosRLHf0gmw8loyRXN2KrgGb7DCguw=
branches:
    only:
        - master
notifications:
    email:
        - matthew.jinkens@gmail.com
